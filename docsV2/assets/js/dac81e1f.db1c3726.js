"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[55672],{67517:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"api/cspell-lib/index","title":"CSpell Library","description":"cspell-lib is the workhorse behind cspell. It does all the heavy lifting necessary to spell check files.","source":"@site/docs/api/cspell-lib/index.md","sourceDirName":"api/cspell-lib","slug":"/api/cspell-lib/","permalink":"/docsV2/docs/api/cspell-lib/","draft":false,"unlisted":false,"editUrl":"https://github.com/streetsidesoftware/cspell/tree/main/website/docs/docs/api/cspell-lib/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Variable: defaultCSpellSettings","permalink":"/docsV2/docs/api/cspell/variables/defaultCSpellSettings"},"next":{"title":"Class: DocumentValidator","permalink":"/docsV2/docs/api/cspell-lib/classes/DocumentValidator"}}');var n=s(86106),i=s(72300);const r={},o="CSpell Library",a={},c=[{value:"Support Future Development",id:"support-future-development",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Example - Check some text",id:"example---check-some-text",level:3},{value:"Example - Check a file",id:"example---check-a-file",level:3},{value:"CSpell for Enterprise",id:"cspell-for-enterprise",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"cspell-library",children:"CSpell Library"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"cspell-lib"})," is the workhorse behind cspell. It does all the heavy lifting necessary to spell check files."]}),"\n",(0,n.jsx)(t.h2,{id:"support-future-development",children:"Support Future Development"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/sponsors/streetsidesoftware",children:(0,n.jsx)(t.img,{src:"https://img.shields.io/badge/-black?style=social&logo=githubsponsors&label=GitHub%20Sponsor%3A%20Street%20Side%20Software",alt:"GitHub Sponsors"})})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://patreon.com/streetsidesoftware",children:(0,n.jsx)(t.img,{src:"https://img.shields.io/badge/-black?style=social&logo=patreon&label=Patreon%3A%20Street%20Side%20Software",alt:"Patreon"})})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.paypal.com/donate/?hosted_button_id=26LNBP2Q6MKCY",children:(0,n.jsx)(t.img,{src:"https://img.shields.io/badge/-black?style=social&logo=paypal&label=PayPal%20Donate%3A%20Street%20Side%20Software",alt:"PayPal"})})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://opencollective.com/cspell",children:(0,n.jsx)(t.img,{src:"https://img.shields.io/badge/-black?style=social&logo=opencollective&label=Open%20Collective%3A%20CSpell",alt:"Open Collective"})})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"npm i -S cspell-lib\n"})}),"\n",(0,n.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.h3,{id:"example---check-some-text",children:"Example - Check some text"}),"\n",(0,n.jsxs)(t.p,{children:["Here is an example of using ",(0,n.jsx)(t.code,{children:"spellCheckDocument"})," to spell check some text with a spelling issue."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import assert from 'node:assert';\n\nimport { spellCheckDocument } from 'cspell-lib';\n\n// cspell:ignore wordz coztom clockz cuztom\nconst customWords = ['wordz', 'cuztom', 'clockz'];\n\nasync function checkSpelling(phrase: string) {\n  const result = await spellCheckDocument(\n    { uri: 'text.txt', text: phrase, languageId: 'plaintext', locale: 'en' },\n    { generateSuggestions: true, noConfigSearch: true },\n    { words: customWords, suggestionsTimeout: 2000 }\n  );\n  return result.issues;\n}\n\nexport async function run() {\n  console.log(`Start: ${new Date().toISOString()}`);\n  const r = await checkSpelling('These are my coztom wordz.');\n  console.log(`End: ${new Date().toISOString()}`);\n  // console.log(r);\n  assert(r.length === 1, 'Make sure we got 1 spelling issue back.');\n  assert(r[0].text === 'coztom');\n  assert(r[0].suggestions?.includes('cuztom'));\n  // console.log('%o', r);\n}\n"})}),"\n",(0,n.jsx)(t.h3,{id:"example---check-a-file",children:"Example - Check a file"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { resolve } from 'node:path';\nimport { pathToFileURL } from 'node:url';\nimport { spellCheckDocument } from 'cspell-lib';\n\nexport async function checkFile(filename: string) {\n  const uri = pathToFileURL(resolve(filename)).toString();\n  const result = await spellCheckDocument(\n    { uri },\n    { generateSuggestions: true, noConfigSearch: true },\n    { words: customWords, suggestionsTimeout: 2000 }\n  );\n  return result.issues;\n}\n"})}),"\n",(0,n.jsx)(t.h2,{id:"cspell-for-enterprise",children:"CSpell for Enterprise"}),"\n",(0,n.jsx)(t.p,{children:"Available as part of the Tidelift Subscription."}),"\n",(0,n.jsxs)(t.p,{children:["The maintainers of cspell and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source packages you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact packages you use. ",(0,n.jsx)(t.a,{href:"https://tidelift.com/subscription/pkg/npm-cspell?utm_source=npm-cspell&utm_medium=referral&utm_campaign=enterprise&utm_term=repo",children:"Learn more."})]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)("p",{align:"center",children:["Brought to you by",(0,n.jsxs)("a",{href:"https://streetsidesoftware.com",title:"Street Side Software",children:[(0,n.jsx)("img",{width:"16",alt:"Street Side Software Logo",src:"https://i.imgur.com/CyduuVY.png"})," Street Side Software"]})]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},72300:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>o});var l=s(7378);const n={},i=l.createContext(n);function r(e){const t=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);