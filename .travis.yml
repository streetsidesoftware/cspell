sudo: false
language: node_js
os:
  - linux
  - osx
  # Turn windows on when it is out of beta mode in travis-ci
  # - windows

node_js:
  - "node"
  - "12"

install:
  # the prepare script run during install currently does clean-build
  - npm ci
  - npm run bootstrap-ci

script:
  - npm test
  - npm run test-spec
  - node ./bin.js trace test
  - node ./bin.js "**/{*.ts,*.md}"


jobs:
  include:
    - stage: "Coverage"
      script:
        - npm run travis-coverage
